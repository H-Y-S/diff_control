# p2det.def - hardware definitions for sls10 chip
# 9 Apr 01 - new definition of "offset" = "old offset + LowL"
# Pilatus II Module
# created Mai 05 EFE
# update for DCB Dec 05 EFE


# DAC calibration (howto by pk):
# plot measured voltage in volts as function of decimal values that correspond
# to the hex values of the camserver.
# get slope m and offset b from fit.
# fill in m*51.2 in "slope" and b in "offset".


# this file numbers chip signals as 0 thru 15
# all modules are assumed identical in these properties

# number of banks and modules configured
BANK_ADD_LO     1
BANK_ADD_HI     12
MODULE_ADD_LO   1
MODULE_ADD_HI   5

# DAC programming formula:
# define in progi2c.c line 140ff
# 8 Bit
# (hex value) = 256*(voltage-offset) / (5*slope)

# DAC programming formula:
# 12 Bit
# (hex value) = 4096*(voltage-offset) / (2.5*slope)


# high level names <==> hardware names & properties
# E.g., DAC2 refers to DAC group 2, U3 is DAC 3 in the group, OUT2 is output 2

# There are 2 kinds of 12 bit dac's - L & M.  The L-type are called
# units U1 and U2; the M-type are addressed by U3 & U4.

# name  hardware name   LowL    HiL    Offset   Slope
VTRM     DAC2_U3_OUT0    0.0     2.0   0.006    0.996
VCCA     DAC2_U3_OUT1    0.0     2.0   0.006    0.996
VRFS     DAC2_U3_OUT2    0.0     2.0   0.006    0.996
VRF      DAC2_U3_OUT3   -0.5     1.0  -0.597    0.7604	
VADJ     DAC2_U4_OUT0    1.1     1.3   0.0      0.49794
VRES     DAC2_U4_OUT1    0.0     2.0   0.006    0.996
VCAL     DAC2_U4_OUT2    0.0     2.0   0.015    0.994
VDEL     DAC2_U4_OUT3    0.0     2.0   0.006    0.996

VCMP0    DAC1_U1_OUT0    0.0     2.0   0.006    0.996
VCMP1    DAC1_U1_OUT1    0.0     2.0   0.006    0.996
VCMP2    DAC1_U1_OUT2    0.0     2.0   0.006    0.996
VCMP3    DAC1_U1_OUT3    0.0     2.0   0.006    0.996
VCMP4    DAC1_U2_OUT0    0.0     2.0   0.006    0.996
VCMP5    DAC1_U2_OUT1    0.0     2.0   0.006    0.996
VCMP6    DAC1_U2_OUT2    0.0     2.0   0.006    0.996
VCMP7    DAC1_U2_OUT3    0.0     2.0   0.006    0.996

VCMP8    DAC1_U3_OUT1    0.0     2.0   0.006    0.996
VCMP9    DAC1_U3_OUT2    0.0     2.0   0.006    0.996
VCMP10   DAC1_U3_OUT3    0.0     2.0   0.006    0.996
VCMP11   DAC1_U3_OUT0    0.0     2.0   0.006    0.996
VCMP12   DAC1_U4_OUT3    0.0     2.0   0.006    0.996
VCMP13   DAC1_U4_OUT2    0.0     2.0   0.006    0.996
VCMP14   DAC1_U4_OUT1    0.0     2.0   0.006    0.996
VCMP15   DAC1_U4_OUT0    0.0     2.0   0.006	0.996

CHSEL    CHSEL_U1_PATTERN		# special for CHSEL bit patterns
CHSEL0   CHSEL_U1_OUT17
CHSEL1   CHSEL_U1_OUT15         # these are in octal - talk to Philips
CHSEL2   CHSEL_U1_OUT12
CHSEL3   CHSEL_U1_OUT10
CHSEL4   CHSEL_U1_OUT1
CHSEL5   CHSEL_U1_OUT2
CHSEL6   CHSEL_U1_OUT4
CHSEL7   CHSEL_U1_OUT6
CHSEL8   CHSEL_U1_OUT16
CHSEL9   CHSEL_U1_OUT14
CHSEL10  CHSEL_U1_OUT13
CHSEL11  CHSEL_U1_OUT11
CHSEL12  CHSEL_U1_OUT0
CHSEL13  CHSEL_U1_OUT3
CHSEL14  CHSEL_U1_OUT5
CHSEL15  CHSEL_U1_OUT7

# Unused signals must be defined as 'NOT_USED' to avoid error messages
VCMP     NOT_USED
